<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AI Intel · Browse</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body data-mode="browse">
    <header class="header"><a href="index.html" class="btn">← Dashboard</a><div class="header-title">Browse</div></header>
    <div class="container">
      <div class="card">
        <h3 class="card-title">By Source</h3>
        <div id="bySources" class="row"></div>
        <h3 class="card-title" style="margin-top:12px">By Pillar</h3>
        <div id="byPillars" class="row"></div>
      </div>
      <div class="card" style="color:#9ca3af">(This is a minimal browse view — use the sidebar on the dashboard for faster access.)</div>
    </div>
    <script>
      (function(){
        function fetchJSON(p){ return fetch(p+'?v='+(Date.now())).then(function(r){return r.json();}); }
        document.addEventListener('DOMContentLoaded', function(){
          fetchJSON('report.json').then(function(rep){
            var s=rep.by_source||{}, p=rep.pillars||{};
            var bs=document.getElementById('bySources'); var bp=document.getElementById('byPillars');
            var sk=Object.keys(s).sort(function(a,b){return (s[b]|0)-(s[a]|0)});
            var pk=Object.keys(p).sort(function(a,b){return (p[b]|0)-(p[a]|0)}).slice(0,12);
            var out=''; for(var i=0;i<sk.length;i++){ var k=sk[i]; out+='<a class="btn" href="items.html?source='+encodeURIComponent(k)+'">'+k+' ('+s[k]+')</a>'; }
            bs.innerHTML=out;
            var outp=''; for(var j=0;j<pk.length;j++){ var k2=pk[j]; outp+='<a class="btn" href="items.html?pillar='+encodeURIComponent(k2)+'">'+k2+' ('+p[k2]+')</a>'; }
            bp.innerHTML=outp;
          }).catch(function(e){ console.log(e); });
        });
      })();
    </script>
  </body>
  </html>

